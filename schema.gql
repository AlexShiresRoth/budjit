# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type ProfileTypeDef {
  name: String!
  phone: String!
  avatar: String!
}

type AccountTypeDef {
  _id: String!
  name: String!
  email: String!
  password: String!
  profile: ProfileTypeDef!
}

type InvitesTypeDef {
  sender: String!
  receiver: String!
  status: String!
  inviteDate: Date!
  groupRef: String!
}

"""Date custom scalar type"""
scalar Date

type CreateAccountResponse {
  Account: AccountTypeDef!
  token: String!
}

type LoginResponse {
  Account: AccountTypeDef!
  token: String!
}

type GroupTypeDef {
  members: [AccountTypeDef!]!
  invites: [InvitesTypeDef!]!
  occasionRef: String!
}

type HistoryTypeDef {
  date: Date!
  paymentAmount: String!
  contributor: AccountTypeDef!
  paymentMethod: String!
}

type OccasionTypeDef {
  title: String!
  budget: String!
  group: GroupTypeDef
  history: [HistoryTypeDef!]
  creator: String!
}

type LoadOccasionResponse {
  Occasion: OccasionTypeDef!
}

type Query {
  account(id: String!): AccountTypeDef!
  authenticate(loginInput: LoginInput!): LoginResponse!
  findMyAccount: AccountTypeDef!
  loadMyInvites: [InvitesTypeDef!]!
  loadOccasion(id: String!): LoadOccasionResponse!
}

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  createAccount(createAccountInput: CreateAccountInput!): CreateAccountResponse!
  createOccasion(createOccsionInput: CreateOccasionInput!): OccasionTypeDef!
  sendInvites(addMembersInput: AddMembersInput!): OccasionTypeDef!
}

input CreateAccountInput {
  name: String!
  email: String!
  password: String!
  passwordConfirm: String!
}

input CreateOccasionInput {
  title: String!
  budget: String!
}

input AddMembersInput {
  invites: [Invite!]!
  occasionID: String!
}

input Invite {
  receiver: String!
}
